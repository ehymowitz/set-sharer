{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/esm/asyncToGenerator\";\n\nvar _this = this,\n    _jsxFileName = \"/Users/elie/code/ehymowitz/set-sharer/components/logoutButton.tsx\",\n    _s = $RefreshSig$();\n\nvar __jsx = React.createElement;\nimport React, { useState } from 'react';\nimport { mutate } from 'swr';\nimport { fetcher } from './util/fetcher';\n\nvar LogoutButton = function LogoutButton() {\n  _s();\n\n  var _useState = useState(false),\n      loading = _useState[0],\n      setLoading = _useState[1];\n\n  return __jsx(\"button\", {\n    onClick: /*#__PURE__*/_asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n      var _yield$fetcher, data, error;\n\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              setLoading(true);\n              _context.next = 3;\n              return fetcher(\"/api/logout\");\n\n            case 3:\n              _yield$fetcher = _context.sent;\n              data = _yield$fetcher.data;\n              error = _yield$fetcher.error;\n\n              if (!error) {\n                _context.next = 10;\n                break;\n              }\n\n              console.log(error);\n              setLoading(false);\n              return _context.abrupt(\"return\");\n\n            case 10:\n              _context.next = 12;\n              return mutate(\"/api/set\");\n\n            case 12:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    })),\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 9,\n      columnNumber: 5\n    }\n  }, \"Leave Set\");\n};\n\n_s(LogoutButton, \"/Rjh5rPqCCqf0XYnTUk9ZNavw3Q=\");\n\n_c = LogoutButton;\nexport default LogoutButton;\n\nvar _c;\n\n$RefreshReg$(_c, \"LogoutButton\");","map":{"version":3,"sources":["/Users/elie/code/ehymowitz/set-sharer/components/logoutButton.tsx"],"names":["React","useState","mutate","fetcher","LogoutButton","loading","setLoading","data","error","console","log"],"mappings":";;;;;;;;AAAA,OAAOA,KAAP,IAAgBC,QAAhB,QAAgC,OAAhC;AACA,SAASC,MAAT,QAAuB,KAAvB;AACA,SAASC,OAAT,QAAwB,gBAAxB;;AAEA,IAAMC,YAAY,GAAG,SAAfA,YAAe,GAAM;AAAA;;AAAA,kBACKH,QAAQ,CAAC,KAAD,CADb;AAAA,MAClBI,OADkB;AAAA,MACTC,UADS;;AAGzB,SACE;AACE,IAAA,OAAO,wEAAK;AAAA;;AAAA;AAAA;AAAA;AAAA;AACVA,cAAAA,UAAU,CAAC,IAAD,CAAV;AADU;AAAA,qBAEoBH,OAAO,CAAC,aAAD,CAF3B;;AAAA;AAAA;AAEFI,cAAAA,IAFE,kBAEFA,IAFE;AAEIC,cAAAA,KAFJ,kBAEIA,KAFJ;;AAAA,mBAGNA,KAHM;AAAA;AAAA;AAAA;;AAIRC,cAAAA,OAAO,CAACC,GAAR,CAAYF,KAAZ;AACAF,cAAAA,UAAU,CAAC,KAAD,CAAV;AALQ;;AAAA;AAAA;AAAA,qBAQJJ,MAAM,CAAC,UAAD,CARF;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAL,EADT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iBADF;AAeD,CAlBD;;GAAME,Y;;KAAAA,Y;AAoBN,eAAeA,YAAf","sourcesContent":["import React, { useState } from 'react'\nimport { mutate } from 'swr'\nimport { fetcher } from './util/fetcher'\n\nconst LogoutButton = () => {\n  const [loading, setLoading] = useState(false)\n\n  return (\n    <button\n      onClick = { async () => {\n        setLoading(true)\n        const { data, error } = await fetcher(\"/api/logout\")\n        if (error) {\n          console.log(error)\n          setLoading(false)\n          return\n        }\n        await mutate(\"/api/set\")\n      }}>\n      Leave Set\n    </button>\n  )\n}\n\nexport default LogoutButton\n"]},"metadata":{},"sourceType":"module"}