{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/esm/asyncToGenerator\";\n\nvar _this = this,\n    _jsxFileName = \"/Users/elie/code/ehymowitz/set-sharer/components/deleteSongButton.tsx\";\n\nvar __jsx = React.createElement;\nimport React from 'react';\nimport { mutate } from 'swr';\nimport { fetcher } from './util/fetcher';\n\nvar DeleteSongButton = function DeleteSongButton(_ref) {\n  var song = _ref.song,\n      songs = _ref.songs;\n  return __jsx(\"div\", {\n    style: {\n      backgroundColor: 'red',\n      width: '20px',\n      height: '20px'\n    },\n    onClick: /*#__PURE__*/_asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.next = 2;\n              return fetcher(\"/api/song/delete\", {\n                id: song.id\n              });\n\n            case 2:\n              _context.next = 4;\n              return mutate(\"/api/songs\", songs.filter(function (s) {\n                return s.id !== song.id;\n              }));\n\n            case 4:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    })),\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 7,\n      columnNumber: 5\n    }\n  });\n};\n\n_c = DeleteSongButton;\nexport default DeleteSongButton;\n\nvar _c;\n\n$RefreshReg$(_c, \"DeleteSongButton\");","map":{"version":3,"sources":["/Users/elie/code/ehymowitz/set-sharer/components/deleteSongButton.tsx"],"names":["React","mutate","fetcher","DeleteSongButton","song","songs","backgroundColor","width","height","id","filter","s"],"mappings":";;;;;;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,MAAT,QAAuB,KAAvB;AACA,SAASC,OAAT,QAAwB,gBAAxB;;AAEA,IAAMC,gBAAgB,GAAG,SAAnBA,gBAAmB,OAAoB;AAAA,MAAjBC,IAAiB,QAAjBA,IAAiB;AAAA,MAAXC,KAAW,QAAXA,KAAW;AAC3C,SACE;AAAK,IAAA,KAAK,EAAI;AAACC,MAAAA,eAAe,EAAE,KAAlB;AAAyBC,MAAAA,KAAK,EAAE,MAAhC;AAAwCC,MAAAA,MAAM,EAAE;AAAhD,KAAd;AACE,IAAA,OAAO,wEAAK;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBACJN,OAAO,CAAC,kBAAD,EAAqB;AAAEO,gBAAAA,EAAE,EAAEL,IAAI,CAACK;AAAX,eAArB,CADH;;AAAA;AAAA;AAAA,qBAEJR,MAAM,CAAC,YAAD,EAAeI,KAAK,CAACK,MAAN,CAAc,UAAAC,CAAC;AAAA,uBAAIA,CAAC,CAACF,EAAF,KAASL,IAAI,CAACK,EAAlB;AAAA,eAAf,CAAf,CAFF;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAL,EADT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF;AAUD,CAXD;;KAAMN,gB;AAaN,eAAeA,gBAAf","sourcesContent":["import React from 'react'\nimport { mutate } from 'swr'\nimport { fetcher } from './util/fetcher'\n\nconst DeleteSongButton = ({ song, songs}) => {\n  return (\n    <div style = {{backgroundColor: 'red', width: '20px', height: '20px'}}\n      onClick = { async () => {\n        await fetcher(\"/api/song/delete\", { id: song.id })\n        await mutate(\"/api/songs\", songs.filter( s => s.id !== song.id ))\n      }}\n    >\n\n    </div>\n  )\n}\n\nexport default DeleteSongButton\n"]},"metadata":{},"sourceType":"module"}